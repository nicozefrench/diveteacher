# FastAPI Framework
fastapi==0.115.0
uvicorn[standard]==0.30.6
python-multipart==0.0.9
pydantic==2.11.5          # Graphiti requires >= 2.11.5
pydantic-settings==2.5.2

# Async & HTTP
httpx>=0.28.1,<1.0  # Compatible with ollama (upgrade), openai, google-genai
aiofiles==24.1.0
sse-starlette==2.1.3

# Neo4j Database
neo4j==5.26.0

# Graphiti (Knowledge Graph)
# ARIA Pattern: Gemini 2.5 Flash-Lite (~$1-2/year vs $730 Haiku!)
graphiti-core[google-genai]==0.17.0

# Docling (PDF/PPT Processing) - UPGRADED for HybridChunker
docling==2.60.1
docling-core>=2.48.2,<3.0.0  # Required by Docling 2.60.1

# Chunking (ARIA Pattern) - UPGRADED for numpy 2.x compatibility
langchain==1.0.3                   # RecursiveCharacterTextSplitter (numpy 2.x compatible!)
langchain-text-splitters==1.0.0    # Text splitting utilities (UPGRADED for langchain 1.0)

# Docling Chunking Dependencies - UPGRADED for numpy 2.x + transformers 4.57
sentence-transformers==3.3.1   # Tokenizer pour HybridChunker
transformers==4.57.1           # HuggingFace transformers (UPGRADED for Docling 2.60)
numpy>=2.0,<3.0                # EXPLICIT: numpy 2.x required by Docling 2.60, now compatible with LangChain 1.0

# LLM Providers
google-generativeai>=0.8.3  # Google Gemini (for Graphiti LLM operations)
openai==1.91.0              # OpenAI (for embeddings ONLY - DB compatibility!)
ollama>=0.4.0  # Ollama (for RAG queries) - upgraded for httpx compatibility

# Monitoring
sentry-sdk[fastapi]==2.15.0

# Utilities
python-dotenv==1.0.1
python-jose[cryptography]==3.3.0  # JWT for authentication
passlib[bcrypt]==1.7.4            # Password hashing
tenacity==9.0.0                   # Retry logic (Graphiti requires >= 9.0.0)
tqdm==4.66.0                      # Progress bars (4.67.1 breaks threading with docling)
reportlab==4.2.5                  # PDF generation for warmup test

# Development
pytest==8.3.3
pytest-asyncio==0.24.0
pytest-cov==5.0.0
black==24.10.0
ruff==0.7.0
